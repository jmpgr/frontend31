<h2>Cuenta: {{cuenta.iban}}</h2>
<h3>Total en cuenta: {{total}} €</h3>

<form [formGroup]="formularioAltaCuenta" (ngSubmit)="modificarCuenta()">
    <p>IBAN</p>
    <input type="" name="" formControlName="iban" />

    <input type="submit" value="Modificar IBAN" class="waves-effect green darken-1 btn btn-large" />
</form>

<form [formGroup]="formularioAnadirMovimientos" (ngSubmit)="cargar()">
    <p>Cargar movimientos</p>
    <div class="custom-file">
        <input type="file" class="custom-file-input" id="customFile" formControlName="fichero" accept=".csv" (change)="ficheroSeleccionado($event)">
        <label class="custom-file-label" for="customFile">Elegir fichero</label>
    </div>

    <input type="submit" value="Cargar" class="waves-effect green darken-1 btn btn-large" />
</form>


<div class="row">
    <div class="col-6">
        <h4>INGRESOS</h4>
        <a routerLink="/cuentas/{{cuentaId}}/nuevo-ingreso" routerLinkActive="router-link-active" class="button btn-outline-primary">Agregar</a>
        <div *ngIf="movimientos.ingresos.length > 0; else vacio">
            <div class="row">
                <div class="col-2 ">IMPORTE</div>
                <div class="col-4 ">CONCEPTO</div>
                <div class="col-3 ">FECHA</div>
                <div class="col-2 ">iDMOV</div>
                <!-- <div class="col-1 ">COMP</div> -->
            </div>
            <hr>
            <div class="row" *ngFor='let ingreso of movimientos.ingresos'>
                <div class="col-2 mt-3"> {{ingreso.importe }} €</div>
                <div class="col-4 mt-3"> {{ingreso.concepto}}</div>
                <div class="col-3 mt-3"> {{ingreso.fecha}}</div>
                <div class="col-2 mt-3"> {{ingreso.idMovimiento}}</div>
                <!--  <div class="col-1 mt-3"> {{ingreso.compartido}}</div> -->
            </div>
        </div>
    </div>
    <div class="col-6">
        <h4>GASTOS</h4>
        <a routerLink="/cuentas/{{cuentaId}}/nuevo-gasto" routerLinkActive="router-link-active" class="button btn-outline-primary">Agregar</a>
        <div *ngIf="movimientos.gastos.length > 0; else vacio">
            <div class="row">
                <div class="col-2 ">IMPORTE</div>
                <div class="col-4 ">CONCEPTO</div>
                <div class="col-3 ">FECHA</div>
                <div class="col-2 ">iDMOV</div>
                <!-- <div class="col-1 ">COMP</div> -->
            </div>
            <hr>
            <div class="row" *ngFor='let gasto of movimientos.gastos'>
                <div class="col-2 mt-3"> {{gasto.importe }} €</div>
                <div class="col-4 mt-3"> {{gasto.concepto}}</div>
                <div class="col-3 mt-3"> {{gasto.fecha}}</div>
                <div class="col-2 mt-3"> {{gasto.idMovimiento}}</div>
                <!--  <div class="col-1 mt-3"> {{gasto.autorizado}}</div> -->
            </div>
        </div>
    </div>
</div>


<ng-template #vacio>
    <p>
        Aún no hay ningún movimiento
    </p>
</ng-template>